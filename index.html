<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>AR.js â€“ Pattern Detection Demo</title>

    <!-- A-Frame core -->
    <script src="https://aframe.io/releases/1.4.1/aframe.min.js"></script>
    <!-- AR.js for A-Frame (bundled build) -->
    <script src="https://cdn.jsdelivr.net/npm/ar.js@3.4.3/aframe/build/aframe-ar.js"></script>

    <style>
      /* Simple floating status badge */
      #status {
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        padding: 0.5rem 1rem;
        background: rgba(0, 0, 0, 0.8);
        color: #fff;
        font-size: 1.25rem;
        font-family: sans-serif;
        border-radius: 0.5rem;
        display: none; /* hidden until marker found */
        z-index: 1000;
      }
    </style>
  </head>

  <body style="margin: 0; overflow: hidden">
    <!-- On-screen message -->
    <div id="status">detected</div>

    <!-- AR.js scene -->
    <a-scene embedded arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;">
      <!-- Pattern marker using your test.patt file -->
      <a-marker id="marker" type="pattern" url="test.patt">
        <!-- Put any 3D content you want to show when the marker appears -->
        <a-box position="0 0.5 0" rotation="0 45 0" material="color: tomato;"></a-box>
      </a-marker>

      <a-entity camera></a-entity>
    </a-scene>

    <script>
      // Grab elements
      const marker = document.querySelector('#marker');
      const statusDiv = document.getElementById('status');

      // Show / hide the status indicator and log to console
      marker.addEventListener('markerFound', () => {
        console.log('detected');
        statusDiv.style.display = 'block';
      });

      marker.addEventListener('markerLost', () => {
        statusDiv.style.display = 'none';
      });
    </script>
  </body>
</html>
